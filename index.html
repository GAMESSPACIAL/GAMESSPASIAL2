<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Video di Tengah ‚Äî Kontrol Kiri ‚Äî Gambar Kanan</title>
<style>
/* =========================== RESET + BODY =========================== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; }
body{
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#111;
  overflow:hidden;
}

/* =========================== KONTAINER UTAMA =========================== */
.app {
  width:100vw;
  height:100vh;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* =========================== KIRI: PANEL KONTROL =========================== */
.controls {
  position: absolute;
  left: 20px;
  top: 20px;
  width: 280px;
  background: rgba(255,255,255,0.96);
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.18);
  z-index: 30;
}
.controls h3 { font-size:16px; margin-bottom:8px; color:#222; }
.controls .buttons { display:flex; gap:10px; margin-bottom:12px; }
.btn {
  flex:0 0 auto;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:8px 12px;
  background:#667eea;
  color:#fff;
  border-radius:10px;
  border:0;
  cursor:pointer;
  font-weight:600;
  box-shadow: 0 4px 10px rgba(102,126,234,0.25);
}
.btn.secondary {
  background:#fff;
  color:#333;
  border:1px solid #e6e6e6;
  box-shadow:none;
}
.controls label { font-size:13px; color:#444; margin-bottom:6px; display:block; }
.controls input[type="range"] { width:100%; }

/* =========================== TENGAH: VIDEO =========================== */
.stage {
  position: relative;
  width: min(64vmin, 580px);
  height: min(64vmin, 580px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 10;
}

/* Container video dengan border putih */
.video-wrap {
  width:100%;
  height:100%;
  border-radius:28px;
  border: 8px solid white;       /* <<< border putih di pinggir */
  overflow:hidden;
  box-shadow: 0 12px 36px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
  background: #000;
  position: relative;
}

#spinVideo {
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  border-radius:20px;             /* tetap rounded di dalam */
  pointer-events: none;
}

/* overlay tipis */
.video-overlay {
  position:absolute;
  inset:0;
  pointer-events:none;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.18) 60%, rgba(0,0,0,0.36) 100%);
}

/* =========================== KANAN: FRAME MINI =========================== */
.reference-mini {
  position: absolute;
  right: 20px;
  top: 20px;
  width: 220px;
  background: rgba(255,255,255,0.98);
  padding: 12px;
  border-radius: 12px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.18);
  z-index: 30;
}
.reference-mini h4 {
  font-size:13px;
  margin-bottom:8px;
  text-align:center;
  color:#222;
  border-bottom:1px solid #e9e9e9;
  padding-bottom:8px;
}
.mini-item { margin-bottom:12px; text-align:center; }
.mini-item .label { font-size:12px; font-weight:700; color:#333; margin-bottom:6px; }
.mini-item img { width:200px; height:auto; border-radius:8px; border:1px solid #eee; background:#fafafa; }

/* =========================== BAWAH KIRI =========================== */
.brand {
  position:absolute;
  left:20px;
  bottom:20px;
  background: orange;
  color:white;
  padding:10px 16px;
  border-radius:10px;
  font-weight:700;
  z-index:30;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}

/* =========================== RESPONSIVE =========================== */
@media (max-width:920px){
  .controls { width:190px; left:14px; top:14px; padding:10px; }
  .reference-mini { right:14px; top:14px; width:160px; padding:10px; }
  .mini-item img { width:130px; }
  .stage { width: min(72vmin, 460px); height: min(72vmin, 460px); }
}
@media (max-width:520px){
  .controls { position:fixed; left:10px; top:10px; width:170px; }
  .reference-mini { display:none; }
  .stage { width: min(82vmin, 360px); height: min(82vmin, 360px); }
}
</style>
</head>
<body>
  <div class="app">

    <!-- KIRI: Kontrol -->
    <div class="controls" aria-label="Kontrol Video">
      <h3>üéûÔ∏è Kontrol Video</h3>
      <div class="buttons">
        <button class="btn" id="playPauseBtn" title="Play / Pause">‚èØ</button>
        <button class="btn secondary" id="resetBtn" title="Reset ke awal">üîÑ</button>
      </div>
      <div style="margin-top:8px;">
        <label for="speedRange">‚ö° Kecepatan putar: <span id="speedVal">1.0</span>x</label>
        <input id="speedRange" type="range" min="0.25" max="2.5" step="0.05" value="1">
      </div>
      <div style="margin-top:10px; font-size:13px; color:#444;">
        <div>Loop: <strong>ON</strong></div>
      </div>
    </div>

    <!-- TENGAH: Video -->
    <div class="stage" role="main" aria-label="Area video">
      <div class="video-wrap" aria-hidden="false">
        <video id="spinVideo" playsinline muted crossorigin="anonymous">
          <source src="https://i.imgur.com/r7pdl8y.mp4" type="video/mp4">
          Browser-mu tidak mendukung video tag.
        </video>
        <div class="video-overlay" aria-hidden="true"></div>
      </div>
    </div>

    <!-- KANAN: mini images -->
    <aside class="reference-mini" aria-label="Referensi sisi dadu">
      <h4>Sisi Dadu</h4>
      <div class="mini-item">
        <div class="label">TAMPAK DEPAN</div>
        <img src="https://i.imgur.com/ONjZTxg.jpeg" alt="tampak depan dadu" loading="lazy">
      </div>
      <div class="mini-item">
        <div class="label">TAMPAK BELAKANG</div>
        <img src="https://i.imgur.com/we9pV6W.jpeg" alt="tampak belakang dadu" loading="lazy">
      </div>
    </aside>

    <!-- brand -->
    <div class="brand">KSE UNJA</div>
  </div>

<script>
(function(){
  const vid = document.getElementById('spinVideo');
  const playPauseBtn = document.getElementById('playPauseBtn');
  const resetBtn = document.getElementById('resetBtn');
  const speedRange = document.getElementById('speedRange');
  const speedVal = document.getElementById('speedVal');

  vid.loop = true;
  vid.muted = true;
  vid.playsInline = true;
  vid.preload = "auto";
  vid.playbackRate = parseFloat(speedRange.value);

  let isPlaying = false;

  function tryAutoPlay(){
    vid.play().then(()=>{ isPlaying=true; updatePlayBtn(); })
      .catch(()=>{ isPlaying=false; updatePlayBtn(); });
  }

  function updatePlayBtn(){ playPauseBtn.textContent = isPlaying ? '‚è∏' : '‚ñ∂'; }

  playPauseBtn.addEventListener('click', function(){
    if(!isPlaying){ vid.play().catch(()=>{}); isPlaying=true; }
    else { vid.pause(); isPlaying=false; }
    updatePlayBtn();
  });

  resetBtn.addEventListener('click', function(){
    try { vid.currentTime=0; } catch(e){ vid.pause(); }
    vid.play().catch(()=>{}); isPlaying=true; updatePlayBtn();
  });

  speedRange.addEventListener('input', function(){
    const v=parseFloat(this.value);
    vid.playbackRate=v;
    speedVal.textContent=v.toFixed(2);
  });

  window.addEventListener('load', tryAutoPlay);

  function seamlessCheck(){
    if(!isFinite(vid.duration) || vid.duration===0) return;
    const remaining=vid.duration-vid.currentTime;
    if(remaining>0 && remaining<0.12){ vid.currentTime=0.04; if(vid.paused && isPlaying) vid.play().catch(()=>{}); }
  }
  vid.addEventListener('timeupdate', seamlessCheck);
  vid.addEventListener('ended', ()=>{ vid.currentTime=0.04; vid.play().catch(()=>{}); });
  window.addEventListener('keydown', function(e){ if(e.code==='Space'){ e.preventDefault(); playPauseBtn.click(); }});
  vid.addEventListener('loadedmetadata', ()=>{ if(isPlaying) vid.play().catch(()=>{}); });

})();
</script>
</body>
</html>
